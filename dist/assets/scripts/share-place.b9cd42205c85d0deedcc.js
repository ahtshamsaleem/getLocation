!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="dist/assets/scripts/",o(o.s=2)}([function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));class n{constructor(e){this.render(e)}render(e){const t=document.getElementById("map"),o=new google.maps.Map(t,{center:e,zoom:16});console.log(o),new google.maps.Marker({position:e,map:o})}}},,function(e,t,o){"use strict";o.r(t);class n{constructor(e){this.contentTemplateEl=document.getElementById(e),this.modalTemplateEl=document.getElementById("modal-template")}show(){const e=document.importNode(this.modalTemplateEl.content,!0);this.modalEl=e.querySelector(".modal"),this.backdropEl=e.querySelector(".backdrop");const t=document.importNode(this.contentTemplateEl.content,!0);this.modalEl.appendChild(t),document.body.insertAdjacentElement("afterbegin",this.modalEl),document.body.insertAdjacentElement("afterbegin",this.backdropEl)}hide(){this.modalEl&&(document.body.removeChild(this.modalEl),document.body.removeChild(this.backdropEl),this.modalEl=null,this.backdropEl=null)}}var r=o(0);new class{constructor(){const e=document.querySelector("form"),t=document.getElementById("locate-btn");this.btnShare=document.getElementById("share-btn"),t.addEventListener("click",this.onLocateUser.bind(this)),this.btnShare.addEventListener("click",this.onSharePlace),e.addEventListener("submit",this.onFindAddress.bind(this))}onSharePlace(){const e=document.getElementById("share-link");navigator.clipboard?navigator.clipboard.writeText(e.value).then(()=>alert("Copied into Clipboard!")).catch(t=>{console.log(t),e.select()}):e.select()}selectPlace(e,t){this.map?this.map.render(e):this.map=new r.a(e),this.btnShare.disabled=!1;document.getElementById("share-link").value=`${location.origin}/my-place?address=${encodeURI(t)}&lat=${e.lat}&lng=${e.lng}`}onLocateUser(){const e=new n("loading-modal-content");e.show(),navigator.geolocation.getCurrentPosition(async t=>{const o={lat:t.coords.latitude,lng:t.coords.longitude},n=await async function(e){const t=await fetch(`https://maps.googleapis.com/maps/api/geocode/json?latlng=${e.lat},${e.lng}&key=AIzaSyAxJmlSP5sAWhgytC-1BUocKHnC842ySoE`);if(!t.ok)throw new Error("Failed to fetch the address!");return(await t.json()).results[0].formatted_address}(o);e.hide(),this.selectPlace(o,n)},t=>{e.hide(),alert("Couldn't fetch the location. Kindly enter your address manually.")})}async onFindAddress(e){e.preventDefault();const t=e.target.querySelector("input").value;if(!t||""===t.trim())return void alert("Invalid address entered!");const o=new n("loading-modal-content");o.show();try{const e=await async function(e){const t=encodeURI(e),o=await fetch(`https://maps.googleapis.com/maps/api/geocode/json?address=${t}&key=AIzaSyAxJmlSP5sAWhgytC-1BUocKHnC842ySoE`);if(!o.ok)throw new Error("Failed to fetch coordinates! Try Again");return(await o.json()).results[0].geometry.location}(t);this.selectPlace(e,t)}catch(e){alert(e)}o.hide()}}}]);
//# sourceMappingURL=share-place.b9cd42205c85d0deedcc.js.map